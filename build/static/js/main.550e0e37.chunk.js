(this["webpackJsonpyouttala-frontend"]=this["webpackJsonpyouttala-frontend"]||[]).push([[0],{22:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var r=n(0),u=n(1),c=n(16),i=n.n(c),a=(n(22),n(4)),s=n.n(a),o=n(5),b=n(3),f=n(7),l=n.n(f),p=function(){return l.a.get("/api/subtitles").then((function(t){return t.data}))};var h=function(t,e){var n=/[.,"'?!;:]*/,r=new RegExp(/^/.source+n.source+t+n.source+/$/.source,"i"),u=[];return e.forEach((function(t){t.split(" ").forEach((function(e){r.test(e)&&u.push(t)}))})),0!==u.length};function j(t,e){for(var n,r,u="",c="",i="",a=t;a>0;a--)if(e[a].includes("--\x3e")){u=e[a].substring(0,2),c=e[a].substring(3,5),i=e[a].substring(6,8),n=a;break}return{time:(r=[u,c,i],3600*parseInt(r[0])+60*parseInt(r[1])+parseInt(r[2])),firstTimeIndex:n}}var d=function(t,e,n){var r=/[.,"'?!;:]*/,u=new RegExp(/^/.source+r.source+t+r.source+/$/.source,"i"),c=[];return e.forEach((function(t){for(var e=n.filter((function(e){return e.videoId===t}))[0].text,r=e.length,i=function(n){var r=void 0,i=void 0,a="";e[n].split(" ").forEach((function(s){u.test(s)&&(r=j(n,e).time,i=j(n,e).firstTimeIndex,a=function(t,e){return"https://www.youtube.com/embed/".concat(t,"?start=").concat(e,"&autoplay=1&cc_load_policy=1&cc_lang_pref=sv")}(t,r),c.push({youtubeLink:a,time:r,firstTimeIndex:i,lineIndex:n,wholeText:e}))}))},a=0;a<r-1;a++)i(a)})),function(t){for(var e=[],n=[],r=t.length,u=0;u<r;){var c=Math.floor(Math.random()*r);-1===n.indexOf(c)&&(u++,n.push(c),e.push(t[c]))}return e}(c)};var O=function(t,e,n){for(var r,u,c="",i="",a="",s=e+1;s<n.length-1;s++)if(n[s].includes("--\x3e")){c=n[s].substring(0,2),i=n[s].substring(3,5),a=n[s].substring(6,8),r=s;break}return u=[c,i,a],{timeDifference:3600*parseInt(u[0])+60*parseInt(u[1])+parseInt(u[2])-t,text:function(t,e,n){return t.slice(e+1,n).reduce((function(t,e){return t+e+"\n"}),"").split("\n").slice(0,-1).join("\n")}(n,e,r)}},v=function(){var t=Object(u.useState)([]),e=Object(b.a)(t,2),n=e[0],c=e[1],i=Object(u.useState)(""),a=Object(b.a)(i,2),f=a[0],l=a[1],j=Object(u.useState)([]),v=Object(b.a)(j,2),x=v[0],m=v[1],y=Object(u.useState)("https://www.youtube.com/embed/RGOj5yH7evk"),g=Object(b.a)(y,2),w=g[0],k=g[1],I=Object(u.useState)(0),S=Object(b.a)(I,2),T=S[0],E=S[1],L=Object(u.useState)(""),D=Object(b.a)(L,2),C=(D[0],D[1]),R=Object(u.useState)([]),_=Object(b.a)(R,2),B=(_[0],_[1]),G=Object(u.useState)(null),H=Object(b.a)(G,2),J=H[0],M=H[1],$=Object(u.useState)(0),z=Object(b.a)($,2),q=(z[0],z[1],Object(u.useState)(!1)),A=Object(b.a)(q,2),F=A[0],K=A[1],N=Object(u.useState)(!1),P=Object(b.a)(N,2),Q=P[0],U=P[1];Object(u.useEffect)((function(){p().then((function(t){c(t)}))}),[]);var V={display:F?"":"none"},W={display:Q?"":"none"},X=function(){var t=Object(o.a)(s.a.mark((function t(e){var r,u,c,i,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),r=[],u=[];try{n.forEach((function(t){h(f,t.text)&&u.push(t.videoId)})),r=d(f,u,n),m(r),k(r[0].youtubeLink),E(0),c=r[0].youtubeLink.substring(30,41),C(c),i=r[0].wholeText,B(i),a=r[0].time,o=r[0].firstTimeIndex,O(a,o,i),U(!0)}catch(s){0===u.length&&(U(!1),k("https://www.youtube.com/embed/RGOj5yH7evk"),m([]),M("nothing found for ".concat(f)),K(!0),setTimeout((function(){M(null),K(!1)}),3e3))}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(o.a)(s.a.mark((function t(e){var n,r,u,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),T<x.length-1&&(E(T+1),k(x[T+1].youtubeLink),n=x[T+1].youtubeLink.substring(30,41),C(n),r=x[T+1].wholeText,B(r),u=x[T+1].time,c=x[T+1].firstTimeIndex,i=O(u,c,r),M(i.text));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=Object(o.a)(s.a.mark((function t(e){var n,r,u,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),T>=1&&(E(T-1),k(x[T-1].youtubeLink),n=x[T-1].youtubeLink.substring(30,41),C(n),r=x[T-1].wholeText,B(r),u=x[T-1].time,c=x[T-1].firstTimeIndex,i=O(u,c,r),M(i.text));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(o.a)(s.a.mark((function t(e){var n,r,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),"https"===(n=w).substring(0,5)?(r=n.substring(5,n.length),k("http"+r)):(u=n.substring(4,n.length),k("https"+u));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"youttala"}),Object(r.jsxs)("form",{onSubmit:X,children:[Object(r.jsx)("input",{value:f,onChange:function(t){var e=t.target;return l(e.value)},size:"62",type:"text"}),Object(r.jsx)("button",{type:"submit",children:"k\xf6r"})]}),Object(r.jsxs)("div",{id:"play-bar",children:[Object(r.jsx)("button",{onClick:Z,children:"back"}),Object(r.jsx)("button",{onClick:tt,children:"k\xf6r om"}),Object(r.jsx)("button",{onClick:Y,children:"next"})]}),Object(r.jsxs)("p",{style:W,children:[T+1," av ",x.length," "]}),Object(r.jsx)("br",{}),Object(r.jsx)("iframe",{id:"ytplayer",type:"text/html",width:"640",height:"360",src:w,frameBorder:"0",allow:"autoplay"}),Object(r.jsx)("p",{style:V,children:J})]})};i.a.render(Object(r.jsx)(v,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.550e0e37.chunk.js.map