(this["webpackJsonpyouttala-frontend"]=this["webpackJsonpyouttala-frontend"]||[]).push([[0],{22:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(1),u=n(16),a=n.n(u),i=(n(22),n(4)),s=n.n(i),o=n(5),f=n(3),b=n(7),l=n.n(b),p=function(){return l.a.get("/api/subtitles").then((function(t){return t.data}))};var j=function(t,e){var n=/[.,"'?!;:]*/,r=new RegExp(/^/.source+n.source+t+n.source+/$/.source,"i"),c=[];return e.forEach((function(t){t.split(" ").forEach((function(e){r.test(e)&&c.push(t)}))})),0!==c.length};function h(t,e){for(var n,r,c="",u="",a="",i=t;i>0;i--)if(e[i].includes("--\x3e")){c=e[i].substring(0,2),u=e[i].substring(3,5),a=e[i].substring(6,8),n=i;break}return{time:(r=[c,u,a],3600*parseInt(r[0])+60*parseInt(r[1])+parseInt(r[2])),firstTimeIndex:n}}var d=function(t,e,n){var r=/[.,"'?!;:]*/,c=new RegExp(/^/.source+r.source+t+r.source+/$/.source,"i"),u=[];return e.forEach((function(t){for(var e=n.filter((function(e){return e.videoId===t}))[0].text,r=e.length,a=function(n){var r=void 0,a=void 0,i="";e[n].split(" ").forEach((function(s){c.test(s)&&(r=h(n,e).time,a=h(n,e).firstTimeIndex,i=function(t,e){return"https://www.youtube.com/embed/".concat(t,"?start=").concat(e,"&autoplay=1&cc_load_policy=1&cc_lang_pref=sv")}(t,r),u.push({youtubeLink:i,time:r,firstTimeIndex:a,lineIndex:n,wholeText:e}))}))},i=0;i<r-1;i++)a(i)})),function(t){for(var e=[],n=[],r=t.length,c=0;c<r;){var u=Math.floor(Math.random()*r);-1===n.indexOf(u)&&(c++,n.push(u),e.push(t[u]))}return e}(u)};var O=function(t,e,n){for(var r,c,u="",a="",i="",s=e+1;s<n.length-1;s++)if(n[s].includes("--\x3e")){u=n[s].substring(0,2),a=n[s].substring(3,5),i=n[s].substring(6,8),r=s;break}return c=[u,a,i],{timeDifference:3600*parseInt(c[0])+60*parseInt(c[1])+parseInt(c[2])-t,text:function(t,e,n){return t.slice(e+1,n).reduce((function(t,e){return t+e+"\n"}),"").split("\n").slice(0,-1).join("\n")}(n,e,r)}},v=function(){var t=Object(c.useState)([]),e=Object(f.a)(t,2),n=e[0],u=e[1],a=Object(c.useState)(""),i=Object(f.a)(a,2),b=i[0],l=i[1],h=Object(c.useState)([]),v=Object(f.a)(h,2),x=v[0],m=v[1],y=Object(c.useState)("https://www.youtube.com/embed/RGOj5yH7evk"),w=Object(f.a)(y,2),g=w[0],k=w[1],I=Object(c.useState)(0),S=Object(f.a)(I,2),T=S[0],E=S[1],L=Object(c.useState)(""),D=Object(f.a)(L,2),C=(D[0],D[1]),R=Object(c.useState)([]),_=Object(f.a)(R,2),B=(_[0],_[1]),G=Object(c.useState)(null),H=Object(f.a)(G,2),J=H[0],M=H[1],$=Object(c.useState)(0),z=Object(f.a)($,2),q=(z[0],z[1],Object(c.useState)(!1)),A=Object(f.a)(q,2),F=A[0],K=A[1],N=Object(c.useState)(!1),P=Object(f.a)(N,2),Q=P[0],U=P[1];Object(c.useEffect)((function(){p().then((function(t){u(t)}))}),[]);var V={display:F?"":"none"},W={display:Q?"":"none"},X=function(){var t=Object(o.a)(s.a.mark((function t(e){var r,c,u,a,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),r=[],c=[];try{n.forEach((function(t){j(b,t.text)&&c.push(t.videoId)})),r=d(b,c,n),m(r),k(r[0].youtubeLink),E(0),u=r[0].youtubeLink.substring(30,41),C(u),a=r[0].wholeText,B(a),i=r[0].time,o=r[0].firstTimeIndex,O(i,o,a),U(!0)}catch(s){0===c.length&&(U(!1),k("https://www.youtube.com/embed/RGOj5yH7evk"),m([]),M("nothing found for ".concat(b)),K(!0),setTimeout((function(){M(null),K(!1)}),3e3))}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(o.a)(s.a.mark((function t(e){var n,r,c,u,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),T<x.length-1&&(E(T+1),k(x[T+1].youtubeLink),n=x[T+1].youtubeLink.substring(30,41),C(n),r=x[T+1].wholeText,B(r),c=x[T+1].time,u=x[T+1].firstTimeIndex,a=O(c,u,r),M(a.text));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=Object(o.a)(s.a.mark((function t(e){var n,r,c,u,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),T>=1&&(E(T-1),k(x[T-1].youtubeLink),n=x[T-1].youtubeLink.substring(30,41),C(n),r=x[T-1].wholeText,B(r),c=x[T-1].time,u=x[T-1].firstTimeIndex,a=O(c,u,r),M(a.text));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(o.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),k("".concat(g," "));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"youttala"}),Object(r.jsxs)("form",{onSubmit:X,children:[Object(r.jsx)("input",{value:b,onChange:function(t){var e=t.target;return l(e.value)},size:"62",type:"text"}),Object(r.jsx)("button",{type:"submit",children:"k\xf6r"})]}),Object(r.jsxs)("div",{id:"play-bar",children:[Object(r.jsx)("button",{onClick:Z,children:"back"}),Object(r.jsx)("button",{onClick:tt,children:"k\xf6r om"}),Object(r.jsx)("button",{onClick:Y,children:"next"})]}),Object(r.jsxs)("p",{style:W,children:[T+1," av ",x.length," "]}),Object(r.jsx)("br",{}),Object(r.jsx)("iframe",{id:"ytplayer",type:"text/html",width:"640",height:"360",src:g,frameBorder:"0",allow:"autoplay"}),Object(r.jsx)("p",{style:V,children:J})]})};a.a.render(Object(r.jsx)(v,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.35fe7bcc.chunk.js.map